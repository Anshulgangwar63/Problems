// CodeChef
//Long Challenge Ques 2
#include <iostream>
#include <string>
using namespace std;
int main()
{
    string S;
    char X;
    long long T;
    cin>>T;
    long long c=0,s=0;
    while(T!=0)
    {
        long long N,total;
        cin>>N;
        cin>>S;
        cin>>X;
        total=N*(N+1)/2;
        for(int i=0;i<N;i++)
        {
         if(S[i]!=X)
         {
             c++;
             s=s+c;
         }
         else
         {c=0;
         }
        }
         cout<<total-s<<endl;
         s=0;
        T--;
    }
    return 0;
}
